!function(q){q.jqplot.eventListenerHooks.push(["jqplotMouseMove",function(t,i,e,o,s){var r=s.plugins.highlighter,l=s.plugins.cursor;if(r.show)if(null==o&&r.isHighlighting){var h=jQuery.Event("jqplotHighlighterUnhighlight");s.target.trigger(h);var n=r.highlightCanvas._ctx;n.clearRect(0,0,n.canvas.width,n.canvas.height),r.fadeTooltip?r._tooltipElem.fadeOut(r.tooltipFadeSpeed):r._tooltipElem.hide(),r.bringSeriesToFront&&s.restorePreviousSeriesOrder(),r.isHighlighting=!1,r.currentNeighbor=null,n=null}else if(null!=o&&s.series[o.seriesIndex].showHighlight&&!r.isHighlighting){var h=jQuery.Event("jqplotHighlighterHighlight");h.which=t.which,h.pageX=t.pageX,h.pageY=t.pageY;var a=[o.seriesIndex,o.pointIndex,o.data,s];s.target.trigger(h,a),r.isHighlighting=!0,r.currentNeighbor=o,r.showMarker&&g(s,o),!s.series[o.seriesIndex].show||!r.showTooltip||l&&l._zoom.started||p(s,s.series[o.seriesIndex],o),r.bringSeriesToFront&&s.moveSeriesToFront(o.seriesIndex)}else if(null!=o&&r.isHighlighting&&r.currentNeighbor!=o&&s.series[o.seriesIndex].showHighlight){var n=r.highlightCanvas._ctx;n.clearRect(0,0,n.canvas.width,n.canvas.height),r.isHighlighting=!0,r.currentNeighbor=o,r.showMarker&&g(s,o),!s.series[o.seriesIndex].show||!r.showTooltip||l&&l._zoom.started||p(s,s.series[o.seriesIndex],o),r.bringSeriesToFront&&s.moveSeriesToFront(o.seriesIndex)}}]),q.jqplot.Highlighter=function(t){this.show=q.jqplot.config.enablePlugins,this.markerRenderer=new q.jqplot.MarkerRenderer({shadow:!1}),this.showMarker=!0,this.lineWidthAdjust=2.5,this.sizeAdjust=5,this.showTooltip=!0,this.tooltipLocation="nw",this.fadeTooltip=!0,this.tooltipFadeSpeed="fast",this.tooltipOffset=2,this.tooltipAxes="both",this.tooltipSeparator=", ",this.tooltipContentEditor=null,this.useAxesFormatters=!0,this.tooltipFormatString="%.5P",this.formatString=null,this.yvalues=1,this.bringSeriesToFront=!1,this._tooltipElem,this.isHighlighting=!1,this.currentNeighbor=null,q.extend(!0,this,t)};var S=["nw","n","ne","e","se","s","sw","w"],b={nw:0,n:1,ne:2,e:3,se:4,s:5,sw:6,w:7},k=["se","s","sw","w","nw","n","ne","e"];function g(t,i){var e=t.plugins.highlighter,o=t.series[i.seriesIndex],s=o.markerRenderer,r=e.markerRenderer;r.style=s.style,r.lineWidth=s.lineWidth+e.lineWidthAdjust,r.size=s.size+e.sizeAdjust;var l=q.jqplot.getColorComponents(s.color),h=[l[0],l[1],l[2]],n=.6<=l[3]?.6*l[3]:l[3]*(2-l[3]);r.color="rgba("+h[0]+","+h[1]+","+h[2]+","+n+")",r.init(),r.draw(o.gridData[i.pointIndex][0],o.gridData[i.pointIndex][1],e.highlightCanvas._ctx)}function p(t,i,e){var o=t.plugins.highlighter,s=o._tooltipElem,r=i.highlighter||{},l=q.extend(!0,{},o,r);if(l.useAxesFormatters){for(var h=i._xaxis._ticks[0].formatter,n=i._yaxis._ticks[0].formatter,a=i._xaxis._ticks[0].formatString,g=i._yaxis._ticks[0].formatString,p=h(a,e.data[0]),d=[],f=1;f<l.yvalues+1;f++)d.push(n(g,e.data[f]));if("string"==typeof l.formatString)switch(l.tooltipAxes){case"both":case"xy":d.unshift(p),d.unshift(l.formatString),u=q.jqplot.sprintf.apply(q.jqplot.sprintf,d);break;case"yx":d.push(p),d.unshift(l.formatString),u=q.jqplot.sprintf.apply(q.jqplot.sprintf,d);break;case"x":u=q.jqplot.sprintf.apply(q.jqplot.sprintf,[l.formatString,p]);break;case"y":d.unshift(l.formatString),u=q.jqplot.sprintf.apply(q.jqplot.sprintf,d);break;default:d.unshift(p),d.unshift(l.formatString),u=q.jqplot.sprintf.apply(q.jqplot.sprintf,d)}else switch(l.tooltipAxes){case"both":case"xy":u=p;for(f=0;f<d.length;f++)u+=l.tooltipSeparator+d[f];break;case"yx":u="";for(f=0;f<d.length;f++)u+=d[f]+l.tooltipSeparator;u+=p;break;case"x":u=p;break;case"y":u=d.join(l.tooltipSeparator);break;default:u=p;for(f=0;f<d.length;f++)u+=l.tooltipSeparator+d[f]}}else{var u;"string"==typeof l.formatString?u=q.jqplot.sprintf.apply(q.jqplot.sprintf,[l.formatString].concat(e.data)):"both"==l.tooltipAxes||"xy"==l.tooltipAxes?u=q.jqplot.sprintf(l.tooltipFormatString,e.data[0])+l.tooltipSeparator+q.jqplot.sprintf(l.tooltipFormatString,e.data[1]):"yx"==l.tooltipAxes?u=q.jqplot.sprintf(l.tooltipFormatString,e.data[1])+l.tooltipSeparator+q.jqplot.sprintf(l.tooltipFormatString,e.data[0]):"x"==l.tooltipAxes?u=q.jqplot.sprintf(l.tooltipFormatString,e.data[0]):"y"==l.tooltipAxes&&(u=q.jqplot.sprintf(l.tooltipFormatString,e.data[1]))}q.isFunction(l.tooltipContentEditor)&&(u=l.tooltipContentEditor(u,e.seriesIndex,e.pointIndex,t)),s.html(u);var c=e.gridData[0],m=e.gridData[1],j=0,v=.707;1==i.markerRenderer.show&&(j=(i.markerRenderer.size+l.sizeAdjust)/2);var x=S;switch(i.fillToZero&&i.fill&&e.data[1]<0&&(x=k),x[b[l.tooltipLocation]]){case"nw":var _=c+t._gridPadding.left-s.outerWidth(!0)-l.tooltipOffset-v*j,w=m+t._gridPadding.top-l.tooltipOffset-s.outerHeight(!0)-v*j;break;case"n":_=c+t._gridPadding.left-s.outerWidth(!0)/2,w=m+t._gridPadding.top-l.tooltipOffset-s.outerHeight(!0)-j;break;case"ne":_=c+t._gridPadding.left+l.tooltipOffset+v*j,w=m+t._gridPadding.top-l.tooltipOffset-s.outerHeight(!0)-v*j;break;case"e":_=c+t._gridPadding.left+l.tooltipOffset+j,w=m+t._gridPadding.top-s.outerHeight(!0)/2;break;case"se":_=c+t._gridPadding.left+l.tooltipOffset+v*j,w=m+t._gridPadding.top+l.tooltipOffset+v*j;break;case"s":_=c+t._gridPadding.left-s.outerWidth(!0)/2,w=m+t._gridPadding.top+l.tooltipOffset+j;break;case"sw":_=c+t._gridPadding.left-s.outerWidth(!0)-l.tooltipOffset-v*j,w=m+t._gridPadding.top+l.tooltipOffset+v*j;break;case"w":_=c+t._gridPadding.left-s.outerWidth(!0)-l.tooltipOffset-j,w=m+t._gridPadding.top-s.outerHeight(!0)/2;break;default:_=c+t._gridPadding.left-s.outerWidth(!0)-l.tooltipOffset-v*j,w=m+t._gridPadding.top-l.tooltipOffset-s.outerHeight(!0)-v*j}s.css("left",_),s.css("top",w),l.fadeTooltip?s.stop(!0,!0).fadeIn(l.tooltipFadeSpeed):s.show(),s=null}q.jqplot.Highlighter.init=function(t,i,e){var o=e||{};this.plugins.highlighter=new q.jqplot.Highlighter(o.highlighter)},q.jqplot.Highlighter.parseOptions=function(t,i){this.showHighlight=!0},q.jqplot.Highlighter.postPlotDraw=function(){this.plugins.highlighter&&this.plugins.highlighter.highlightCanvas&&(this.plugins.highlighter.highlightCanvas.resetCanvas(),this.plugins.highlighter.highlightCanvas=null),this.plugins.highlighter&&this.plugins.highlighter._tooltipElem&&(this.plugins.highlighter._tooltipElem.emptyForce(),this.plugins.highlighter._tooltipElem=null),this.plugins.highlighter.highlightCanvas=new q.jqplot.GenericCanvas,this.eventCanvas._elem.before(this.plugins.highlighter.highlightCanvas.createElement(this._gridPadding,"jqplot-highlight-canvas",this._plotDimensions,this)),this.plugins.highlighter.highlightCanvas.setContext();var t=document.createElement("div");this.plugins.highlighter._tooltipElem=q(t),t=null,this.plugins.highlighter._tooltipElem.addClass("jqplot-highlighter-tooltip"),this.plugins.highlighter._tooltipElem.css({position:"absolute",display:"none"}),this.eventCanvas._elem.before(this.plugins.highlighter._tooltipElem)},q.jqplot.preInitHooks.push(q.jqplot.Highlighter.init),q.jqplot.preParseSeriesOptionsHooks.push(q.jqplot.Highlighter.parseOptions),q.jqplot.postDrawHooks.push(q.jqplot.Highlighter.postPlotDraw)}(jQuery);