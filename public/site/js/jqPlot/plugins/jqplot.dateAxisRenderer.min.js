!function(R){R.jqplot.DateAxisRenderer=function(){R.jqplot.LinearAxisRenderer.call(this),this.date=new R.jsDate};var t=1e3,i=6e4,e=36e5,O=24*e,s=7*O,A=30.4368499*O,L=365.242199*O,N=["%M:%S.%#N","%M:%S.%#N","%M:%S.%#N","%M:%S","%M:%S","%M:%S","%M:%S","%H:%M:%S","%H:%M:%S","%H:%M","%H:%M","%H:%M","%H:%M","%H:%M","%H:%M","%a %H:%M","%a %H:%M","%b %e %H:%M","%b %e %H:%M","%b %e %H:%M","%b %e %H:%M","%v","%v","%v","%v","%v","%v","%v"],z=[100,200,500,t,2e3,5e3,1e4,15e3,3e4,i,2*i,3e5,6e5,9e5,18e5,e,2*e,4*e,6*e,8*e,12*e,O,2*O,3*O,4*O,5*O,s,2*s];R.jqplot.DateAxisRenderer.prototype=new R.jqplot.LinearAxisRenderer,R.jqplot.DateAxisRenderer.prototype.constructor=R.jqplot.DateAxisRenderer,R.jqplot.DateTickFormatter=function(t,i){return t||(t="%Y/%m/%d"),R.jsDate.strftime(i,t)},R.jqplot.DateAxisRenderer.prototype.init=function(t){this.tickOptions.formatter=R.jqplot.DateTickFormatter,this.tickInset=0,this.drawBaseline=!0,this.baselineWidth=null,this.baselineColor=null,this.daTickInterval=null,this._daTickInterval=null,R.extend(!0,this,t);for(var i,e,s,n,a,r,h,l=this._dataBounds,m=0;m<this._series.length;m++){i={intervals:[],frequencies:{},sortedIntervals:[],min:null,max:null,mean:null},e=0,n=(s=this._series[m]).data,a=s._plotData,r=s._stackData;for(var o=h=0;o<n.length;o++)"xaxis"==this.name||"x2axis"==this.name?(n[o][0]=new R.jsDate(n[o][0]).getTime(),a[o][0]=new R.jsDate(n[o][0]).getTime(),r[o][0]=new R.jsDate(n[o][0]).getTime(),(null!=n[o][0]&&n[o][0]<l.min||null==l.min)&&(l.min=n[o][0]),(null!=n[o][0]&&n[o][0]>l.max||null==l.max)&&(l.max=n[o][0]),0<o&&(h=Math.abs(n[o][0]-n[o-1][0]),i.intervals.push(h),i.frequencies.hasOwnProperty(h)?i.frequencies[h]+=1:i.frequencies[h]=1),e+=h):(n[o][1]=new R.jsDate(n[o][1]).getTime(),a[o][1]=new R.jsDate(n[o][1]).getTime(),r[o][1]=new R.jsDate(n[o][1]).getTime(),(null!=n[o][1]&&n[o][1]<l.min||null==l.min)&&(l.min=n[o][1]),(null!=n[o][1]&&n[o][1]>l.max||null==l.max)&&(l.max=n[o][1]),0<o&&(h=Math.abs(n[o][1]-n[o-1][1]),i.intervals.push(h),i.frequencies.hasOwnProperty(h)?i.frequencies[h]+=1:i.frequencies[h]=1)),e+=h;if(s.renderer.bands){if(s.renderer.bands.hiData.length){o=0;for(var c=(u=s.renderer.bands.hiData).length;o<c;o++)"xaxis"===this.name||"x2axis"===this.name?(u[o][0]=new R.jsDate(u[o][0]).getTime(),(null!=u[o][0]&&u[o][0]>l.max||null==l.max)&&(l.max=u[o][0])):(u[o][1]=new R.jsDate(u[o][1]).getTime(),(null!=u[o][1]&&u[o][1]>l.max||null==l.max)&&(l.max=u[o][1]))}if(s.renderer.bands.lowData.length){var u;for(o=0,c=(u=s.renderer.bands.lowData).length;o<c;o++)"xaxis"===this.name||"x2axis"===this.name?(u[o][0]=new R.jsDate(u[o][0]).getTime(),(null!=u[o][0]&&u[o][0]<l.min||null==l.min)&&(l.min=u[o][0])):(u[o][1]=new R.jsDate(u[o][1]).getTime(),(null!=u[o][1]&&u[o][1]<l.min||null==l.min)&&(l.min=u[o][1]))}}for(var k in i.frequencies)i.sortedIntervals.push({interval:k,frequency:i.frequencies[k]});i.sortedIntervals.sort(function(t,i){return i.frequency-t.frequency}),i.min=R.jqplot.arrayMin(i.intervals),i.max=R.jqplot.arrayMax(i.intervals),i.mean=e/n.length,this._intervalStats.push(i),i=e=s=n=a=r=null}l=null},R.jqplot.DateAxisRenderer.prototype.reset=function(){this.min=this._options.min,this.max=this._options.max,this.tickInterval=this._options.tickInterval,this.numberTicks=this._options.numberTicks,this._autoFormatString="",this._overrideFormatString&&this.tickOptions&&this.tickOptions.formatString&&(this.tickOptions.formatString=""),this.daTickInterval=this._daTickInterval},R.jqplot.DateAxisRenderer.prototype.createTicks=function(t){this._ticks;var i,e,s=this.ticks,n=this.name,a=this._dataBounds,r=(this._intervalStats,"x"===this.name.charAt(0)?this._plotDimensions.width:this._plotDimensions.height),h=1,l=null;if(null!=this.tickInterval)if(Number(this.tickInterval))l=[Number(this.tickInterval),"seconds"];else if("string"==typeof this.tickInterval){var m=this.tickInterval.split(" ");1==m.length?l=[1,m[0]]:2==m.length&&(l=[m[0],m[1]])}this.tickInterval;H=new R.jsDate(null!=this.min?this.min:a.min).getTime(),i=new R.jsDate(null!=this.max?this.max:a.max).getTime();var o=t.plugins.cursor;o&&o._zoom&&o._zoom.zooming&&(this.min=null,this.max=null);var c=i-H;if(null!=this.tickOptions&&this.tickOptions.formatString||(this._overrideFormatString=!0),s.length){for(v=0;v<s.length;v++){var u=s[v],k=new this.tickRenderer(this.tickOptions);u.constructor==Array?(k.value=new R.jsDate(u[0]).getTime(),k.label=u[1]):k.value=new R.jsDate(u).getTime(),this.showTicks?this.showTickMarks||(k.showMark=!1):(k.showLabel=!1,k.showMark=!1),k.setTick(k.value,this.name),this._ticks.push(k)}this.numberTicks=s.length,this.min=this._ticks[0].value,this.max=this._ticks[this.numberTicks-1].value,this.daTickInterval=[(this.max-this.min)/(this.numberTicks-1)/1e3,"seconds"]}else if(null==this.min&&null==this.max&&a.min==a.max){var d=R.extend(!0,{},this.tickOptions,{name:this.name,value:null});this.min=a.min-3e5,this.max=a.max+3e5,this.numberTicks=3;for(var v=this.min;v<=this.max;v+=3e5){d.value=v;k=new this.tickRenderer(d);this._overrideFormatString&&""!=this._autoFormatString&&(k.formatString=this._autoFormatString),k.showLabel=!1,k.showMark=!1,this._ticks.push(k)}this.showTicks&&(this._ticks[1].showLabel=!0),this.showTickMarks&&(this._ticks[1].showTickMarks=!0)}else if(null==this.min&&null==this.max){var T,g,x=R.extend(!0,{},this.tickOptions,{name:this.name,value:null});if(this.tickInterval||this.numberTicks)this.tickInterval?g=new R.jsDate(0).add(l[0],l[1]).getTime():this.numberTicks&&(g=(i-H)/((T=this.numberTicks)-1));else{var w=Math.max(r,31),f=115;this.tickRenderer===R.jqplot.CanvasAxisTickRenderer&&this.tickOptions.angle&&(f=115-40*Math.abs(Math.sin(this.tickOptions.angle/180*Math.PI))),g=(i-H)/((T=Math.ceil((w-30)/f+1))-1)}if(g<=19*O){var p=function(t,i,e){for(var s,n,a,r=Number.MAX_VALUE,h=0,l=z.length;h<l;h++)(s=Math.abs(e-z[h]))<r&&(r=s,n=z[h],a=N[h]);return[n,a]}(0,0,g),M=p[0];this._autoFormatString=p[1],H=new R.jsDate(H),H=Math.floor((H.getTime()-H.getUtcOffset())/M)*M+H.getUtcOffset(),T=Math.ceil((i-H)/M)+1,this.min=H,this.max=H+(T-1)*M,this.max<i&&(this.max+=M,T+=1),this.tickInterval=M,this.numberTicks=T;for(v=0;v<T;v++)x.value=this.min+v*M,k=new this.tickRenderer(x),this._overrideFormatString&&""!=this._autoFormatString&&(k.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(k.showMark=!1):(k.showLabel=!1,k.showMark=!1),this._ticks.push(k);h=this.tickInterval}else if(g<=9*A){this._autoFormatString="%v",(I=Math.round(g/A))<1?I=1:6<I&&(I=6);var _=new R.jsDate(H).setDate(1).setHours(0,0,0,0),D=new R.jsDate(i),b=new R.jsDate(i).setDate(1).setHours(0,0,0,0);D.getTime()!==b.getTime()&&(b=b.add(1,"month"));var j=b.diff(_,"month");T=Math.ceil(j/I)+1,this.min=_.getTime(),this.max=_.clone().add((T-1)*I,"month").getTime(),this.numberTicks=T;for(v=0;v<T;v++)x.value=0===v?_.getTime():_.add(I,"month").getTime(),k=new this.tickRenderer(x),this._overrideFormatString&&""!=this._autoFormatString&&(k.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(k.showMark=!1):(k.showLabel=!1,k.showMark=!1),this._ticks.push(k);h=I*A}else{var I;this._autoFormatString="%v",(I=Math.round(g/L))<1&&(I=1);_=new R.jsDate(H).setMonth(0,1).setHours(0,0,0,0);var S=(b=new R.jsDate(i).add(1,"year").setMonth(0,1).setHours(0,0,0,0)).diff(_,"year");T=Math.ceil(S/I)+1,this.min=_.getTime(),this.max=_.clone().add((T-1)*I,"year").getTime(),this.numberTicks=T;for(v=0;v<T;v++)x.value=0===v?_.getTime():_.add(I,"year").getTime(),k=new this.tickRenderer(x),this._overrideFormatString&&""!=this._autoFormatString&&(k.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(k.showMark=!1):(k.showLabel=!1,k.showMark=!1),this._ticks.push(k);h=I*L}}else{if(r="xaxis"==n||"x2axis"==n?this._plotDimensions.width:this._plotDimensions.height,null!=this.min&&null!=this.max&&null!=this.numberTicks&&(this.tickInterval=null),null!=this.tickInterval&&null!=l&&(this.daTickInterval=l),H==i){H-=432e5,i+=432e5}c=i-H;var q,F;parseInt(Math.max(0,r-100)/100,10);if(q=null!=this.min?new R.jsDate(this.min).getTime():H-c/2*(this.padMin-1),F=null!=this.max?new R.jsDate(this.max).getTime():i+c/2*(this.padMax-1),this.min=q,this.max=F,c=this.max-this.min,null==this.numberTicks)if(null!=this.daTickInterval){var y=new R.jsDate(this.max).diff(this.min,this.daTickInterval[1],!0);this.numberTicks=Math.ceil(y/this.daTickInterval[0])+1,this.max=new R.jsDate(this.min).add((this.numberTicks-1)*this.daTickInterval[0],this.daTickInterval[1]).getTime()}else this.numberTicks=200<r?parseInt(3+(r-200)/100,10):2;h=c/(this.numberTicks-1)/1e3,null==this.daTickInterval&&(this.daTickInterval=[h,"seconds"]);for(v=0;v<this.numberTicks;v++){var H;e=(H=new R.jsDate(this.min)).add(v*this.daTickInterval[0],this.daTickInterval[1]).getTime();k=new this.tickRenderer(this.tickOptions);this.showTicks?this.showTickMarks||(k.showMark=!1):(k.showLabel=!1,k.showMark=!1),k.setTick(e,this.name),this._ticks.push(k)}}this.tickInset&&(this.min=this.min-this.tickInset*h,this.max=this.max+this.tickInset*h),null==this._daTickInterval&&(this._daTickInterval=this.daTickInterval)}}(jQuery);